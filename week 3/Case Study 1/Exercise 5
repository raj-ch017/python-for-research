# author: @raj-ch017


"""
      
      Exercise 5

      In this exercise, we will decode an encoded message.

      Instructions:
      
      Use encoding to decode encoded_message.
      Store your encoded message as decoded_message.
      Print decoded_message. Does this recover your original message?
      
"""

#code:

def encoding(input_message,key):
    
    if key > 0:
        alphabet = " " + string.ascii_lowercase
        positions = {}

        for val in range(len(alphabet)):
            dict_key = alphabet[val]
            positions[dict_key] = val

        key_list = list(positions.keys())
        val_list = list(positions.values())
        encoded_message = ""

        for ele in input_message:
            current_val = positions[ele]
            new_val = current_val + key

            diff = (new_val % 27)
            if diff <= 26:
                ind = val_list.index(diff)
                new_ele = key_list[ind]
                encoded_message += new_ele

            elif diff > 26:
                ind = val_list.index(diff)
                new_ele = key_list[ind]
                encoded_message += new_ele

        print(encoded_message)
        
    elif key < 0:
        alphabet = " " + string.ascii_lowercase
        positions = {}

        for val in range(len(alphabet)):
            dict_key = alphabet[val]
            positions[dict_key] = val

        key_list = list(positions.keys())
        val_list = list(positions.values())
        decoded_message = ""
        actual_key = 26 - abs(key) + 1

        for ele in input_message:
            current_val = positions[ele]
            new_val = current_val + actual_key

            diff = (new_val % 27)
            if diff <= 26:
                ind = val_list.index(diff)
                new_ele = key_list[ind]
                decoded_message += new_ele

            elif diff > 26:
                ind = val_list.index(diff)
                new_ele = key_list[ind]
                decoded_message += new_ele

        print(decoded_message)
        
encoding(message,5)
encoding(message,-5)
